/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/favoriteDrinks.js":
/*!*******************************!*\
  !*** ./src/favoriteDrinks.js ***!
  \*******************************/
/***/ (() => {

eval("let listAllDrinks = [];\nasync function getData() {\n    //get the list\n\n    const response = await fetch(`https://web2-courseproject-andyh.herokuapp.com/favoriteDrinks`)\n    const data = await response.json();\n\n    data.forEach(drink => {\n\n        listAllDrinks.push(drink)\n        console.log(drink);\n        console.log(`\n        name: ${drink.name}, \n        ingredient1: ${drink.ingredient1}, \n        ingredient2: ${drink.ingredient2}, \n        ingredient3: ${drink.ingredient3}, \n        img: ${drink.img}, \n        amount1: ${drink.amount1},\n        amount2: ${drink.amount2},\n        amount3: ${drink.amount3},\n        instruction: ${drink.in},\n        id: ${drink._id}\n        `)\n    })\n    buildList()\n}\ngetData()\n\nfunction buildList() {\n    let html = ``;\n    listAllDrinks.forEach(drink => {\n        html += ` \n<div class=\"flex-container\">\n    <div class=\"flex-item\" style=\"justify-content:space-between;\">\n             \n    <img src=\"./images/icons/element-line.png\" width=\"150px\" height=\"10px\" margin=\"0\" alt=\"\">\n    <div class=\"imgHolder\">    <img id=\"favouriteThumb\" src=\"${drink.img}\"\n            style=\"max-width: 250px; display:block; margin-left:40px; \" alt=\"\">\n           <span id=\"nameDr\"> ${drink.name} </span> </div>\n    </div>\n    <div class=\"flex-item\">\n        <div id=\"ingredients4\">\n   \n            <div id=\"all1in4\">\n            \n                <img id=\"ingredientsImg\" src=\"https://www.thecocktaildb.com/images/ingredients/${drink.ingredient1}-Small.png\" alt=\"\">\n                <div>\n                    <span>${drink.ingredient1}</span><br>\n                    <span>${drink.amount1}</span>\n                </div>\n            </div>\n            <div id=\"all1in4\">\n                <img id = \"ingredientsImg\"\n                src = \"https://www.thecocktaildb.com/images/ingredients/${drink.ingredient2}-Small.png\"\n                alt = \"\" >\n                <div>\n                  <span>${drink.ingredient2}</span><br>\n                    <span>${drink.amount2}</span>\n                </div>\n            </div>\n            <div id=\"all1in4\">\n                <img id = \"ingredientsImg\"\n                src = \"https://www.thecocktaildb.com/images/ingredients/${drink.ingredient3}-Small.png\"\n                alt = \"\" >\n                <div>\n                  <span>${drink.ingredient3}</span><br>\n                    <span>${drink.amount3}</span>\n                </div>\n            </div>\n              <div id=\"all1in4\">\n                <img id = \"ingredientsImg\"\n                src = \"https://www.thecocktaildb.com/images/ingredients/${drink.ingredient4}-Small.png\"\n                alt = \"\" >\n                <div>\n                  <span>${drink.ingredient4}</span><br>\n                    <span>${drink.amount4}</span>\n                </div>\n            </div>\n            \n        </div>\n    </div>\n    <div class=\"flex-item\" id=\"centerOptions\">\n      <button  id=\"optionsEl\">STEPS</button> \n      <button  onclick=\"drinkTried(${drink.id})\" id=\"optionsEl\">${drink.timesTried}<img width=\"30px\" src=\"./images/icons/cocktail.png\"</img></button> \n      <button onclick=\"deleteDrink(${drink.id})\" id=\"optionsEl\"> DELETE </button>\n    </div>\n    </div> `\n    })\n    document.getElementById('showFavorites').innerHTML = html;\n}\n\n\nfunction deleteDrink(id) {\n\n    let deleteDrink = listAllDrinks.find(drink => drink.id == id)\n    let newarray = listAllDrinks.filter(drink => drink.id != deleteDrink.id)\n    listAllDrinks = newarray;\n    let dbID = deleteDrink._id\n    buildList()\n\n\n    let url = \"https://web2-courseproject-andyh.herokuapp.com/favoriteDrinks/\"\n\n    fetch(url + dbID, {\n            method: 'DELETE',\n        })\n        .then(res => res.json()) // or res.json()\n        .then(function render() {\n            alert(`Succesfully deleted the drink ${drink.name} out of your favorite drinks`)\n\n        })\n        .catch(error => {\n            throw (error);\n        })\n\n}\n\n\nfunction drinkTried(id) {\n\n    //put info \n    let triedOne = listAllDrinks.find(drink => drink.id == id)\n    let amount = triedOne.timesTried;\n    newAmount = amount + 1;\n    let dbID = triedOne._id\n\n    //updatearray\n    console.log(\"beforeNewArray\", listAllDrinks.length)\n    let newarray = listAllDrinks.filter(drink => drink.id != triedOne.id)\n    console.log(\"afterNewArray\", newarray.length)\n    listAllDrinks = newarray;\n\n    const data = {\n        name: triedOne.name,\n        ingredient1: triedOne.ingredient1,\n        ingredient2: triedOne.ingredient2,\n        ingredient3: triedOne.ingredient3,\n        img: triedOne.img,\n        amount1: triedOne.amount1,\n        amount2: triedOne.amount2,\n        amount3: triedOne.amount3,\n        instruction: triedOne.instruction,\n        timesTried: newAmount,\n        id: triedOne.id,\n\n    }\n    console.log(\"data\", data)\n    console.log(\"first1\", listAllDrinks.length)\n    listAllDrinks.push(data)\n    console.log(\"first2\", listAllDrinks.length)\n\n    console.log(\"data\", data)\n\n    alert(`You made the drink called ${data.name}.You have drank it already ${data.timesTried} times now!`)\n    const putMethod = {\n        method: 'PUT', // Method itself\n        headers: {\n            'Content-type': 'application/json; charset=UTF-8' // Indicates the content \n        },\n        body: JSON.stringify(data) // We send data in JSON format\n    }\n\n    let url = \"https://web2-courseproject-andyh.herokuapp.com/favoriteDrinks/\"\n    // // make the HTTP put request using fetch api\n    fetch(url + dbID, putMethod)\n        .then(response => response.json())\n        .then(data => buildList()) // Manipulate the data retrieved back, if we want to do something with it\n        .catch(err => console.log(err)) // Do something with the error\n    //\n    \n\n}\n\n//# sourceURL=webpack://webpack-demo/./src/favoriteDrinks.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/favoriteDrinks.js"]();
/******/ 	
/******/ })()
;